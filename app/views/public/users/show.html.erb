<div class = "container">
  <div class = "row">
    <div class = "col-sm-12">
      <h1>マイページ</h1>
      <p>プロフィール画像</p>
      <%= attachment_image_tag @user, :profile_image, :fill, 50, 50, fallback: "no_image.jpg" %>
      <p>名前</p>
      <%= @user.name %>
      <p>自己紹介</p>
      <%= @user.introduction %>
      <p>投稿数</p>
      <%= @user.lists.count %>
      <p>フォロー</p>
      <%= link_to @user.followings.count, user_followings_path(@user) %>
      <p>フォロワー</p>
      <%= link_to @user.followers.count, user_followers_path(@user) %>
      
      <% if @user == current_user %>
        <%= link_to "編集", edit_user_path(@user) %>
      <% else %>
        <% unless current_user == @user %>
          <% if current_user.following?(@user) %>
            <%= link_to "フォローを外す", user_relationships_path(@user), method: :delete %>
          <% else %>
            <%= link_to "フォローする", user_relationships_path(@user), method: :post %>
          <% end %>
        <% end %>
      <% end %>
      
      <!--投稿一覧-->
      <% @user.lists.each do |list| %>
        <%= link_to list.date, list_path(list) %>
        <%= list.first_item %>
        <%= list.second_item %>
        <%= list.third_item %>
      <% end %>
    </div>
  </div>
</div>